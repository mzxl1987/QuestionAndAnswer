# 5.1.Java虚拟机内存模型
java虚拟机内存分布:
  * 程序计数器
  * 虚拟机栈
  * 本地方法栈
  * Java 堆
  * 方法区
#### 5.1.1.程序计数器
关于程序计数器的相关描述：
  * 是一块内存空间
  * 每个线程都有`独立的程序计数器`,用于记录下一条要运行的指令
  * 线程间计数器`相互独立`，互不影响
  * `线程私有`的内存空间
#### 5.1.2.Java虚拟机栈
简述：
  * `线程私有`内存空间
  * 保存方法的局部变量,部分结果,并参与方法的调用和返回
与虚拟机栈空间有关的异常:
  * StackOverFlowError, 当前栈深度 > 最大可用的栈深度
  * OutOfMemoryError, 没有足够的空间支持栈的拓展<br>
> Hot Spot虚拟机中, `-Xss`来设置栈的大小, 栈大小决定了函数可调用的可达深度  
> 栈帧:虚拟机栈运行时使用的数据结构,用于保存上下文数据,栈帧的构成
  * 局部变量表
  * 操作数栈
  * 动态链接方法
  * 返回地址
> 栈帧中，与性能调优关心最为密切的是局部变量表,用于存放方法的参数和方法的内部参数,以`word`为单位,1word = 2bytes  
#### 5.1.3.本地方法栈
本地方法栈用于管理本地方法的调用,native方法是用C实现的，而不是Java<br>
在Hot Spot虚拟中,不区分`本地方法栈`和`虚拟机栈`,所以本地方法栈也会抛出StackOverFlowError和OutOfMemoryError
#### 5.1.4.Java堆
 * Heap是Java运行的时最为重要的部分,几乎所有的对象和数组都在Heap中分配空间<br>
 * Heap又分为`新生代`和`老年代`
  * 新生代：用于存放刚产生的对象和年轻对象,新生代又分为:
   * eden, 伊甸园
   * survivor space0,或者s0, from space
   * survivor space1,或者s1, to space
  * 老年代: 如果对象没有被回收,生存的时间够长,老年对象会移入老年代
> 堆空间
>> 新生代
>>> * Eden
>>> * s0
>>> * s1
>> 老年代
#### 5.1.5.方法区
